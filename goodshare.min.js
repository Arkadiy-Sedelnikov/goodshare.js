/*
 *	@author Interactive agency "Central marketing" http://iacm.ru
 *	@copyright Copyright (c) 2015, Interactive agency "Central marketing"	
 *	@license http://opensource.org/licenses/MIT The MIT License (MIT)
 *	@version 3.0 at 14/09/2015 (16:50)
 *	
 *	goodshare.js
 *	
 *	Useful jQuery plugin that will help your website visitors share a link on social networks and microblogs.
 *	Easy to install and configuring on any of your website!
 */
;(function(b,c,f,h){b(c).ready(function(){goodshare={init:function(a,g){var d=goodshare,e=b.extend({type:"vk",url:location.href,title:c.title,text:b('meta[name="description"]').attr("content"),image:b('meta[property="og:image"]').attr("content")},b(a).data(),g);if(null!==d.popup(link=d[e.type](e)))return!1},vk:function(a){a=b.extend({url:location.href,title:c.title,text:"",image:""},a);return"http://vk.com/share.php?url="+encodeURIComponent(a.url)+"&title="+encodeURIComponent(a.title)+"&description="+
encodeURIComponent(a.text)+"&image="+encodeURIComponent(a.image)},ok:function(){var a=b.extend({url:location.href,text:""});return"http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1&st.comments="+encodeURIComponent(a.text)+"&st._surl="+encodeURIComponent(a.url)},fb:function(){var a=b.extend({url:location.href,title:c.title,image:"",text:""});return"http://www.facebook.com/sharer.php?u="+encodeURIComponent(a.url)},lj:function(){var a=b.extend({url:location.href,title:c.title,text:""});return"http://livejournal.com/update.bml?subject="+
encodeURIComponent(a.title)+"&event="+encodeURIComponent('<a href="'+a.url+'">'+a.title+"</a> "+a.text)+"&transform=1"},tw:function(){var a=b.extend({url:location.href,title:c.title});return"http://twitter.com/share?url="+encodeURIComponent(a.url)+"&text="+encodeURIComponent(a.title)},gp:function(){var a=b.extend({url:location.href});return"https://plus.google.com/share?url="+encodeURIComponent(a.url)},mr:function(){var a=b.extend({url:location.href,title:c.title,image:"",text:""});return"http://connect.mail.ru/share?url="+
encodeURIComponent(a.url)+"&title="+encodeURIComponent(a.title)+"&description="+encodeURIComponent(a.text)+"&imageurl="+encodeURIComponent(a.image)},li:function(){var a=b.extend({url:location.href,title:c.title,text:""});return"http://www.linkedin.com/shareArticle?url="+encodeURIComponent(a.url)},tm:function(){var a=b.extend({url:location.href,title:c.title,text:""});return"http://www.tumblr.com/share/link?url="+encodeURIComponent(a.url)+"&name="+encodeURIComponent(a.title)+"&description="+encodeURIComponent(a.text)},
bl:function(){var a=b.extend({url:location.href,title:c.title,text:""});return"https://www.blogger.com/blog-this.g?u="+encodeURIComponent(a.url)+"&n="+encodeURIComponent(a.title)},pt:function(){var a=b.extend({url:location.href,title:c.title,text:""});return"https://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(a.url)+"&description="+encodeURIComponent(a.title)},en:function(){var a=b.extend({url:location.href,title:c.title,text:""});return"https://www.evernote.com/clip.action?url="+
encodeURIComponent(a.url)+"&title="+encodeURIComponent(a.title)+"&body="+encodeURIComponent(a.text+'<br/><a href="'+a.url+'">'+a.title+"</a>")},di:function(){var a=b.extend({url:location.href,title:c.title,text:""});return"http://digg.com/submit?url="+encodeURIComponent(a.url)+"&title="+encodeURIComponent(a.title)},yz:function(){var a=b.extend({url:location.href,title:c.title,text:""});return"http://zakladki.yandex.ru/newlink.xml?url="+encodeURIComponent(a.url)+"&name="+encodeURIComponent(a.title)+
"&descr="+encodeURIComponent(a.text)},rd:function(){var a=b.extend({url:location.href,title:c.title});return"http://www.reddit.com/submit?url="+encodeURIComponent(a.url)+"&title="+encodeURIComponent(a.title)},sb:function(){var a=b.extend({url:location.href,title:c.title,text:""});return"http://surfingbird.ru/share?url="+encodeURIComponent(a.url)+"&title="+encodeURIComponent(a.title)+"&description="+encodeURIComponent(a.text)},popup:function(a){return f.open(a,"","toolbar=0,status=0,scrollbars=0,width=626,height=436")}};
b.getJSON("https://vk.com/share.php?act=count&index=1&url="+encodeURIComponent(location.href)+"&callback=?",function(a){});VK={Share:{}};VK.Share.count=function(a,c){1E3<=c?b('[data-counter="vk"]').text(c/1E3+"k"):1E6<=c?b('[data-counter="vk"]').text(c/1E6+"M"):b('[data-counter="vk"]').text(c)};b.getJSON("https://connect.ok.ru/dk?st.cmd=extLike&uid=1&ref="+encodeURIComponent(location.href)+"&callback=?",function(a){});ODKL={updateCount:function(a,c){1E3<=c?b('[data-counter="ok"]').text(c/1E3+"k"):
1E6<=c?b('[data-counter="ok"]').text(c/1E6+"M"):b('[data-counter="ok"]').text(c)}};b.getJSON("https://api.facebook.com/method/links.getStats?format=json&urls="+encodeURIComponent(location.href)+"&format=json&callback=?",function(a){1E3<=a[0].share_count?b('[data-counter="fb"]').text(a[0].share_count/1E3+"k"):1E6<=a[0].share_count?b('[data-counter="fb"]').text(a[0].share_count/1E6+"M"):b('[data-counter="fb"]').text(a[0].share_count)});b.getJSON("http://urls.api.twitter.com/1/urls/count.json?url="+
encodeURIComponent(location.href)+"&callback=?",function(a){1E3<=a.count?b('[data-counter="tw"]').text(a.count/1E3+"k"):1E6<=a.count?b('[data-counter="tw"]').text(a.count/1E6+"M"):b('[data-counter="tw"]').text(a.count)});b.ajax({type:"POST",url:"https://clients6.google.com/rpc",processData:!0,contentType:"application/json",data:JSON.stringify({method:"pos.plusones.get",id:location.href,params:{nolog:!0,id:location.href,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"}),
success:function(a){1E3<=a.result.metadata.globalCounts.count?b('[data-counter="gp"]').text(a.result.metadata.globalCounts.count/1E3+"k"):1E6<=a.result.metadata.globalCounts.count?b('[data-counter="gp"]').text(a.result.metadata.globalCounts.count/1E6+"M"):b('[data-counter="gp"]').text(a.result.metadata.globalCounts.count)}});b(c).on("click",".goodshare",function(a){a.preventDefault();goodshare.init(this)})})})(jQuery,document,window);
